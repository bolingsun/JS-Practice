<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>侧边广告效果</title>
	<style type="text/css">
		*{
			margin: 0;
			padding: 0;
			list-style: none;
			border: none;
		}
		#aside{
			width: 150px;
			position: absolute;
			left: 0;
			top: 150px;
		}
		#aside img{
			width: 100%;
		}
		p{
			height: 50px;
			text-align: center;
			font-size: 20px;
		}
	</style>
</head>
<body>
	<div id="aside">
		<img src="images/float.jpg" alt="">
	</div>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<p>我是文字我是文字</p>
	<script type="text/javascript">
		window.onload = function(){
			//获取广告头部的高度
			var aside = document.getElementById("aside");
			var offset_top = aside.offsetTop;
			//监听窗口的滚动
			var begin = 0, end = 0, timer = null;

			window.onscroll = function(){
				//清除定时器
				clearInterval(timer);
				//获取滚动的高度
				var scroll_top = scroll().top;
				end = offset_top + scroll_top;
				//缓动动画
				timer = setInterval(function(){
					begin = begin + (end - begin) *0.2;
					aside.style.top = begin + "px";
					if(Math.round(begin) === end){
						clearInterval(timer);
					}
				},20);
			}
		}

		function scroll(){
			if(window.pageYOffset !== null){
				return{
					top: window.pageYOffset,
					left: window.pageXOffset
				}
			}else if(document.compatMode === "CSS1Compat"){
				//w3c
				return{
					top: document.documentElement.scrollTop,
					left: document.documentElement.scrollLeft
				}
			}
			return{
				top: document.body.scrollTop,
				left: document.body.scrollLeft
			}
		}
	</script>
</body>
</html>